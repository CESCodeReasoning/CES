upper = min(8, max(a, b))