The function max_fill takes a 2D list grid and an integer capacity as input. It calculates the maximum number of times the capacity can be filled in each row of the grid. Then it sums up these maximum fill counts for all rows.

For example, if grid is [[0,0,1,1], [0,0,0,0], [1,1,1,1], [0,1,1,1]] and capacity is 2, then the function calculates that the maximum number of times 2 can be filled in the first row is 1 (since 0+0+1+1 = 2), the maximum number of times 2 can be filled in the second row is 0 (since 0+0+0+0 = 0), the maximum number of times 2 can be filled in the third row is 2 (since 1+1+1+1 = 4), and the maximum number of times 2 can be filled in the fourth row is 2 (since 0+1+1+1 = 3). Therefore, the function returns 1+0+2+2 = 5.
